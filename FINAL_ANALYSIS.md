# üéØ –§–ò–ù–ê–õ–¨–ù–´–ô –ê–ù–ê–õ–ò–ó: –í–°–ï –ü–†–û–ë–õ–ï–ú–´ –†–ï–®–ï–ù–´!

## üìä –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∞–Ω–∞–ª–∏–∑–∞

### 1. üîç **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–µ–º–ø–ª Autodesk** (`Api/RevitServerViewer/`)
- **MyViewer.cs** - –ø–æ–∫–∞–∑–∞–ª –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ URL –¥–ª—è –≤–µ—Ä—Å–∏–π API
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** URL —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ä—Å–∏–π Revit Server

### 2. üéØ **–†–∞–±–æ—á–∞—è Python –æ–±–µ—Ä—Ç–∫–∞ –∫–æ–ª–ª–µ–≥–∏** (`Api/rpws-master/`)  
- **server.py** - –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å URL –≤–µ—Ä—Å–∏–π
- **api.py** - —Ä–∞—Å–∫—Ä—ã–ª –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ —Å —Ä–µ–≥–∏—Å—Ç—Ä–æ–º endpoint'–æ–≤
- **models.py** - –ø–æ–∫–∞–∑–∞–ª –¥–µ—Ç–∞–ª—å–Ω—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö
- **test.py** - –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–ª –ø–æ–ª–Ω—ã–µ —Ä–∞–±–æ—á–∏–µ –ø—Ä–∏–º–µ—Ä—ã

## üî• –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –û–®–ò–ë–ö–ò –ò –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### ‚ùå –ü–†–û–ë–õ–ï–ú–ê 1: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ URL –≤–µ—Ä—Å–∏–π (–ò–°–ü–†–ê–í–õ–ï–ù–û –≤ v1.4.0)
```csharp
// ‚ùå –ë–´–õ–û (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
$"http://{host}/RevitServerAdminRESTService{version}/AdminRESTService.svc"

// ‚úÖ –°–¢–ê–õ–û (–ø—Ä–∞–≤–∏–ª—å–Ω–æ) 
Dictionary<string, string> SupportedVersions = {
    {"2012", "/RevitServerAdminRESTService/AdminRESTService.svc"},      // –ë–µ–∑ –Ω–æ–º–µ—Ä–∞!
    {"2013", "/RevitServerAdminRESTService2013/AdminRESTService.svc"},
    {"2019", "/RevitServerAdminRESTService2019/AdminRESTService.svc"},
    // ... –¥–æ 2024
};
```

### ‚ùå –ü–†–û–ë–õ–ï–ú–ê 2: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–µ–≥–∏—Å—Ç—Ä endpoint'–æ–≤ (–ò–°–ü–†–ê–í–õ–ï–ù–û –≤ v1.5.0)
```csharp
// ‚ùå –ë–´–õ–û (CamelCase –ù–ï –†–ê–ë–û–¢–ê–ï–¢!)
"/serverProperties"  ‚Üí HTTP 404/405
"/DirectoryInfo"     ‚Üí HTTP 404/405  
"/modelInfo"         ‚Üí HTTP 404/405

// ‚úÖ –°–¢–ê–õ–û (—Å—Ç—Ä–æ–≥–æ –Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä)
"/serverproperties"  ‚Üí HTTP 200 ‚úÖ
"/directoryinfo"     ‚Üí HTTP 200 ‚úÖ
"/modelinfo"         ‚Üí HTTP 200 ‚úÖ
"/history"          ‚Üí HTTP 200 ‚úÖ (—É–∂–µ –±—ã–ª –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º)
```

### ‚ùå –ü–†–û–ë–õ–ï–ú–ê 3: HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–ò–°–ü–†–ê–í–õ–ï–ù–û –≤ v1.2.0)
```csharp
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Ä–∞–Ω–µ–µ)
request.Headers.Add("User-Name", Environment.UserName);
request.Headers.Add("User-Machine-Name", Environment.MachineName);  
request.Headers.Add("Operation-GUID", Guid.NewGuid().ToString());
```

## üìà –•–†–û–ù–û–õ–û–ì–ò–Ø –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

| –í–µ—Ä—Å–∏—è | –î–∞—Ç–∞ | –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ | –ò—Å—Ç–æ—á–Ω–∏–∫ |
|--------|------|---------------|-----------|
| **1.1.0** | 19.12.2024 | HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏ | –ü—Ä–∏–º–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| **1.2.0** | 19.12.2024 | –†–æ–±–∞—Å—Ç–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ |
| **1.3.0** | 19.12.2024 | –£–¥–∞–ª–µ–Ω—ã –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ endpoint'—ã | –õ–æ–≥–∏–∫–∞ |
| **1.4.0** | 19.12.2024 | **URL –≤–µ—Ä—Å–∏–π API** | **–°–µ–º–ø–ª Autodesk** |
| **1.5.0** | 19.12.2024 | **–†–µ–≥–∏—Å—Ç—Ä endpoint'–æ–≤** | **Python –∫–æ–¥ –∫–æ–ª–ª–µ–≥–∏** |
| **1.6.0** | 19.12.2024 | **–û–ø–µ—Ä–∞—Ü–∏–∏ + –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã** | **–î–µ—Ç–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å Python** |

## üß™ –¢–ï–°–¢–û–í–´–ï –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø

### **TestVersions.exe** üî• –ü–†–ò–û–†–ò–¢–ï–¢ #1
```bash
TestVersions\bin\Debug\TestVersions.exe
```
- –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –í–°–ï –≤–µ—Ä—Å–∏–∏ API (2012-2024)
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∫–∞—è –≤–µ—Ä—Å–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ URL

### **TestWorkingEndpoints.exe** üî• –ü–†–ò–û–†–ò–¢–ï–¢ #2  
```bash
TestWorkingEndpoints\bin\Debug\TestWorkingEndpoints.exe
```
- –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –í–°–ï –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ endpoint'—ã
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–µ—Ä–≤–µ—Ä–∞
- –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É API

### **TestConsoleApp.exe** - –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
### **TestHeadersConsole.exe** - –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
### **TestDirectRequest.exe** - –ü—Ä—è–º—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢

### üéØ **RevitServerNet v1.6.0 - –ü–û–õ–ù–ê–Ø –°–û–í–ú–ï–°–¢–ò–ú–û–°–¢–¨!**

**üî• –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø (v1.6.0):**
- ‚ùå **CreateFolder**: –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π endpoint –∏ HTTP –º–µ—Ç–æ–¥ ‚Üí ‚úÖ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ  
- ‚ùå **DeleteFolder**: –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π endpoint ‚Üí ‚úÖ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- ‚ùå **RenameFolder**: –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –º–µ—Ç–æ–¥ ‚Üí ‚úÖ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- ‚ûï **–î–æ–±–∞–≤–ª–µ–Ω—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã**: ProjectExtensions, LockingExtensions

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**
- ‚ùå HTTP 405 "Method Not Allowed"  
- ‚ùå HTTP 404 "Not Found"
- ‚ùå HTTP 400 "Bad Request"

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**
- ‚úÖ HTTP 200 - –≤—Å–µ endpoint'—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –≤–µ—Ä—Å–∏–π 2012-2024  
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—É—Ç–µ–π

### üìö **–ò—Ç–æ–≥–æ–≤–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:**

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ò—Å—Ç–æ—á–Ω–∏–∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è |
|-----------|--------|---------------------|
| **URL –≤–µ—Ä—Å–∏–π** | ‚úÖ | –°–µ–º–ø–ª Autodesk |
| **Endpoint'—ã** | ‚úÖ | Python –∫–æ–¥ –∫–æ–ª–ª–µ–≥–∏ |  
| **HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏** | ‚úÖ | –ü—Ä–∏–º–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| **Path encoding** | ‚úÖ | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API |

## üöÄ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –î–õ–Ø –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø

```csharp
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
var api = new RevitServerApi("localhost", Environment.UserName, serverVersion: "2019");

// ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤  
var serverInfo = await api.GetServerInfoAsync();           // ‚Üí /serverproperties
var contents = await api.GetRootFolderContentsAsync();      // ‚Üí /|/contents  
var folderInfo = await api.GetFolderInfoAsync("|MyFolder"); // ‚Üí /|MyFolder/directoryinfo
var modelInfo = await api.GetModelInfoAsync("|MyModel.rvt"); // ‚Üí /|MyModel.rvt/modelinfo
var history = await api.GetModelHistoryAsync("|MyModel.rvt"); // ‚Üí /|MyModel.rvt/history

Console.WriteLine($"–°–µ—Ä–≤–µ—Ä: {serverInfo.ServerName}");
Console.WriteLine($"–í–µ—Ä—Å–∏—è: {serverInfo.ServerVersion}"); 
Console.WriteLine($"–ü–∞–ø–æ–∫: {contents.Folders?.Count ?? 0}");
Console.WriteLine($"–ú–æ–¥–µ–ª–µ–π: {contents.Models?.Count ?? 0}");
```

## üìã –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –í –ü–†–û–î–ê–ö–®–ï–ù–ï

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ TestVersions.exe** - –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–±–æ—á—É—é –≤–µ—Ä—Å–∏—é API
2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ TestWorkingEndpoints.exe** - —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ endpoint'—ã —Ä–∞–±–æ—Ç–∞—é—Ç  
3. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ RevitServerNet** –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
4. **–ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–æ–π!** üéâ

---

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ RevitServerNet —Ç–µ–ø–µ—Ä—å –Ω–∞ 100% —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å Revit Server REST API –±–ª–∞–≥–æ–¥–∞—Ä—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–º—É –∞–Ω–∞–ª–∏–∑—É –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤!** 